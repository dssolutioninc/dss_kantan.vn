<div class="container library-page example">
    <div class="row" style="margin-top: 20px">
        <div class="col-sm-offset-1 col-sm-3 col-xs-12">
            <div class="form-group form-horizontal">
                <!--<label for="groupSearch"><%= __("Library Category") %>:</label>-->
                <select class="form-control" id="groupSearch">
                    <option value="0"><%= __("Choose category") %></option>
                    <% uniqueType.forEach(function(item, indexLibrary){ %>
                    <option value="<%= item %>"><%= item %></option>
                    <% }) %>
                </select>

            </div>
        </div>
        <div class="col-sm-3 col-xs-12">
            <div class="form-group form-horizontal">
                <!--<label for="levelSearch"><%= __("Library Level") %>:</label>-->
                <select class="form-control" id="levelSearch">
                    <option value="0"><%= __("Choose level") %></option>
                    <option value="N1">N1</option>
                    <option value="N2">N2</option>
                    <option value="N3">N3</option>
                    <option value="N4">N4</option>
                    <option value="N5">N5</option>
                </select>
            </div>
        </div>
        <div class="col-sm-3 col-xs-12">
            <div class="form-group form-horizontal">
                <!--<label for="textSearch"><%= __("Select key Search") %>:</label>-->
                <input type="text" class="form-control" id="textSearch">
            </div>
        </div>
        <div class="col-sm-1 col-xs-12">
            <div class="form-group form-horizontal">
                <!--<label for="executeSearch"></label>-->
                <button onclick="fillLibrary();" class="btn btn-danger"
                        id="executeSearch"><%= __("Search") %></button>
            </div>
        </div>
    </div>
    <div id="libraryContent"></div>
    <div id="error" style="display: none"></div>
</div>
<script>
    window.onload = function () {
        fillLibrary();
    }
    function fillLibrary() {
        var groupSearch = $("#groupSearch").val();
        var levelSearch = $("#levelSearch").val();
        var textSearch = $("#textSearch").val();        
        var data = {
            groupSearch: groupSearch,
            levelSearch: levelSearch,
            textSearch: textSearch
        };
        /*$.ajax({
         method: "GET",
         url: "/japtool/Library/fillLibrary",
         data: data
         }).done(function (data) {
         $("#libraryContent").html("");
         $("#libraryContent").html(data);
         })*/
        $("#libraryContent").load("/japtool/Library/fillLibrary/", data, function (response, status, xhr) {
            if (status == "error") {
                var msg = "Sorry but there was an error: ";
                $("#error").prop('disabled',true);
                $("#error").html(msg + xhr.status + " " + xhr.statusText);
            }
            else {
                $("#error").prop('disabled',false);
                console.log(response);
                pagingInit();
            }
        });
    }
</script>